<div class="container" ng-controller="HomeController as main">
    <div class="row">
        <div class="col-lg-6 form-inline">
            <form>
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" class="form-control" id="name" placeholder="Name" ng-model="Name">
                </div>
                <div class="form-group">
                    <label for="BirthDate">Birth date</label>
                    <input type="date" class="form-control" id="BirthDate" placeholder="Birth date" ng-model="BirthDate">
                </div>
                <button type="submit" class="btn btn-default  " ng-click="addUser()">Add</button>

            </form>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-6 ">
            <table ng-cloak class="table table-bordered">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>BirthDate</th>
                        <th>Count</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in usersData | startFrom:currentPage*pageSize | limitTo:pageSize ">
                        <td><a ng-click="uploadUserFiles(item.Id)">{{item.Name}}</a></td>
                        <td>{{item.BirthDate}}</td>
                        <td>{{item.UploadFiles.length}}</td>
                    </tr>
                </tbody>
            </table>
            <button ng-disabled="currentPage == 0" ng-click="currentPage=currentPage-1">
                Previous
            </button>
            {{currentPage+1}}/{{numberOfPages()}}
            <button ng-disabled="currentPage >= usersData.length/pageSize - 1" ng-click="currentPage=currentPage+1">
                Next
            </button>
        </div>
    </div>
    <div class="row" id="photos">
        <div class="col-lg-3 ">
            <form>
                <input type="file"
                       file-input="file"
                       accept=".jpg,.png,.gif"
                        />
                <button ng-click="upload()">Add</button>
            </form>
        </div>
        <div class="col-lg-3 " ng-repeat="photo in currentUser.UploadFiles">
            <img class="img-thumbnail" ng-src="data:image/*;base64,{{photo.bytes}}">

            <button type="button" class="close" aria-label="Close" ng-click="deletePhoto(photo.Name, $index)"><span aria-hidden="true">&times;</span></button>
        </div>
    </div>
</div>
